---
title: "Mobile Client"
description: "Documentation for Mobile Client"
---

# Mobile Client

The Bifrost Mobile Client is a cross-platform application built with React Native and Expo, providing VPN management on iOS and Android devices.

## Features

- **Home Screen**: VPN connection status and quick toggle
- **Servers Screen**: Server selection with latency indicators
- **Stats Screen**: Real-time traffic statistics and connection details
- **Settings Screen**: Configuration management and preferences

## Installation

### App Stores

- **iOS**: [App Store](https://apps.apple.com/app/bifrost-vpn) (coming soon)
- **Android**: [Google Play](https://play.google.com/store/apps/details?id=com.bifrost.vpn) (coming soon)

### Building from Source

#### Prerequisites

- Node.js 18+
- npm or yarn
- Expo CLI
- For iOS: Xcode 14+ (macOS only)
- For Android: Android Studio with SDK

#### Setup

```bash
# Clone repository
git clone https://github.com/rennerdo30/bifrost-proxy.git
cd bifrost-proxy/mobile

# Install dependencies
npm install

# Start development server
npx expo start
```

#### Running on Device/Simulator

```bash
# iOS Simulator (macOS only)
npx expo run:ios

# Android Emulator
npx expo run:android

# On physical device
npx expo start --tunnel
# Then scan QR code with Expo Go app
```

#### Building for Production

Using EAS Build (recommended):

```bash
# Install EAS CLI
npm install -g eas-cli

# Login to Expo account
eas login

# Build for iOS
eas build --platform ios

# Build for Android
eas build --platform android

# Build for both
eas build --platform all
```

## Screens

### Home Screen

The main dashboard showing connection status:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Bifrost VPN               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚         â”‚               â”‚           â”‚
â”‚         â”‚      ðŸ”’       â”‚           â”‚
â”‚         â”‚   Connected   â”‚           â”‚
â”‚         â”‚               â”‚           â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                     â”‚
â”‚         [  Disconnect  ]            â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  â†‘ Sent     â”‚  â”‚  â†“ Received â”‚   â”‚
â”‚  â”‚   1.2 GB    â”‚  â”‚    3.4 GB   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚  Server: us-west.example.com        â”‚
â”‚  Connected: 2h 34m                  â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ðŸ  Home â”‚ ðŸ“¡ Servers â”‚ ðŸ“Š Stats â”‚ âš™ï¸ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Servers Screen

Server selection with status indicators:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Available Servers           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ðŸŸ¢ US West           âœ“  45ms   â”‚â”‚
â”‚  â”‚    us-west.example.com         â”‚â”‚
â”‚  â”‚    HTTP                        â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ðŸŸ¢ Europe            120ms     â”‚â”‚
â”‚  â”‚    eu.example.com              â”‚â”‚
â”‚  â”‚    HTTP                        â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ðŸŸ¡ Asia Pacific      200ms     â”‚â”‚
â”‚  â”‚    asia.example.com            â”‚â”‚
â”‚  â”‚    SOCKS5                      â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ðŸ”´ Development       offline   â”‚â”‚
â”‚  â”‚    dev.example.com             â”‚â”‚
â”‚  â”‚    HTTP                        â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ðŸ  Home â”‚ ðŸ“¡ Servers â”‚ ðŸ“Š Stats â”‚ âš™ï¸ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

Status indicators:
- ðŸŸ¢ Online - Server available
- ðŸŸ¡ Busy - High load
- ðŸ”´ Offline - Server unavailable

### Stats Screen

Detailed connection statistics:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Connection Stats           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  â†‘ Sent     â”‚  â”‚  â†“ Received â”‚   â”‚
â”‚  â”‚   1.2 GB    â”‚  â”‚    3.4 GB   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚  Current Session                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  Duration         2h 34m            â”‚
â”‚  Total Data       4.6 GB            â”‚
â”‚  Status           Connected         â”‚
â”‚                                     â”‚
â”‚  Connection Details                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  Protocol         WireGuard         â”‚
â”‚  Encryption       ChaCha20-Poly1305 â”‚
â”‚  Port             51820             â”‚
â”‚  MTU              1420              â”‚
â”‚                                     â”‚
â”‚  Network                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  Local IP         10.0.0.2          â”‚
â”‚  Gateway          10.0.0.1          â”‚
â”‚  DNS              1.1.1.1, 8.8.8.8  â”‚
â”‚  Interface        bifrost0          â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ðŸ  Home â”‚ ðŸ“¡ Servers â”‚ ðŸ“Š Stats â”‚ âš™ï¸ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Settings Screen

Configuration and preferences:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Settings                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  Connection                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  Auto-connect              [  ðŸ”˜  ] â”‚
â”‚  Connect on app launch              â”‚
â”‚                                     â”‚
â”‚  Kill Switch               [ðŸ”˜   ]  â”‚
â”‚  Block traffic if VPN disconnects   â”‚
â”‚                                     â”‚
â”‚  Split Tunneling           [  ðŸ”˜  ] â”‚
â”‚  Exclude certain apps               â”‚
â”‚                     [Configure â†’]   â”‚
â”‚                                     â”‚
â”‚  Server                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ proxy.example.com:7080  [Save] â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                     â”‚
â”‚  Notifications                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  Connection Alerts         [ðŸ”˜   ]  â”‚
â”‚  Notify on connect/disconnect       â”‚
â”‚                                     â”‚
â”‚  Data & Privacy                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  [     Clear Cached Data     ]      â”‚
â”‚                                     â”‚
â”‚  About                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  Version              1.0.0         â”‚
â”‚  Server Status        Connected     â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ðŸ  Home â”‚ ðŸ“¡ Servers â”‚ ðŸ“Š Stats â”‚ âš™ï¸ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Configuration

The mobile client connects to a Bifrost client running on your network. Configure the server address in Settings.

### Connecting to Client

1. Start the Bifrost client on your computer/server
2. Note the API address (default: `http://192.168.x.x:7383`)
3. Enter this address in the mobile app Settings

### API Configuration

The mobile app uses these API endpoints:

| Endpoint | Description |
|----------|-------------|
| `GET /api/v1/status` | Client status |
| `GET /api/v1/vpn/status` | VPN connection status |
| `POST /api/v1/vpn/enable` | Enable VPN |
| `POST /api/v1/vpn/disable` | Disable VPN |
| `GET /api/v1/servers` | Available servers |
| `POST /api/v1/servers/{id}/select` | Select server |
| `GET /api/v1/config` | Get configuration |
| `PUT /api/v1/config` | Update configuration |

## Development

### Project Structure

```
mobile/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/     # Reusable UI components
â”‚   â”œâ”€â”€ screens/        # Screen components
â”‚   â”‚   â”œâ”€â”€ HomeScreen.tsx
â”‚   â”‚   â”œâ”€â”€ ServersScreen.tsx
â”‚   â”‚   â”œâ”€â”€ StatsScreen.tsx
â”‚   â”‚   â””â”€â”€ SettingsScreen.tsx
â”‚   â”œâ”€â”€ services/       # API and utilities
â”‚   â”‚   â””â”€â”€ api.ts
â”‚   â””â”€â”€ App.tsx         # Main app component
â”œâ”€â”€ app.json            # Expo configuration
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json
```

### Technology Stack

- **React Native**: Cross-platform UI framework
- **Expo**: Development and build tooling
- **React Query**: Data fetching and caching
- **React Navigation**: Screen navigation

### Adding a New Screen

1. Create screen component in `src/screens/`
2. Add to navigation in `App.tsx`
3. Add tab bar icon if needed

### API Integration

The app uses React Query for data fetching:

```typescript
import { useQuery, useMutation } from '@tanstack/react-query'
import { api } from '../services/api'

function MyScreen() {
  const { data, isLoading, error } = useQuery({
    queryKey: ['vpn-status'],
    queryFn: api.getVPNStatus,
    refetchInterval: 3000,
  })

  const mutation = useMutation({
    mutationFn: api.enableVPN,
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['vpn-status'] })
    },
  })

  // ...
}
```

## Accessibility

The Bifrost Mobile Client is designed with accessibility in mind, supporting both VoiceOver (iOS) and TalkBack (Android) screen readers.

### Supported Accessibility Features

| Feature | Support |
|---------|---------|
| Screen Reader | Full support |
| Accessibility Labels | All interactive elements |
| Accessibility Roles | Semantic roles for buttons, tabs, switches |
| Accessibility States | Disabled, selected, checked states |
| Accessibility Hints | Context-aware action hints |

### VoiceOver Testing (iOS)

#### How to Test

1. Enable VoiceOver: Settings > Accessibility > VoiceOver
2. Navigate using swipe gestures
3. Double-tap to activate
4. Use two-finger scroll for lists

#### Expected Behavior

**Home Screen:**
- Connect/Disconnect button announces: "Connect to VPN, button" or "Disconnect from VPN, button"
- Status text announces: "Connection status: Protected" or similar
- Error alerts are announced immediately with role "alert"
- Upload/Download cards announce: "Upload: 1.2 GB" and "Download: 3.4 GB"

**Servers Screen:**
- Server items announce full context: "Server Name, address, protocol, status, selected/not selected"
- Offline servers announce disabled state
- Pull-to-refresh announces "Pull to refresh server list"

**Stats Screen:**
- All stat rows announce label and value pairs: "Duration: 2h 34m"
- StatusCard components announce: "Total Sent: 1.2 GB", "Total Received: 3.4 GB"

**Settings Screen:**
- Switch controls announce their label and current state
- Configure button announces: "Configure split tunneling, button"
- Text input announces: "Server address, Enter the server address in host:port format"

**Tab Navigation:**
- Tab icons announce: "Home tab, selected" or "Settings tab"
- Uses proper tab role with selected state

### TalkBack Testing (Android)

#### How to Test

1. Enable TalkBack: Settings > Accessibility > TalkBack
2. Navigate by swiping left/right
3. Double-tap to activate
4. Use two-finger scroll for content

#### Expected Behavior

All behaviors match VoiceOver testing above with Android-specific variations:

- `importantForAccessibility="no"` hides decorative elements
- `importantForAccessibility="no-hide-descendants"` groups child elements
- Swipe gestures map to Android TalkBack conventions
- Focus indicators appear on currently selected element

### Accessibility Implementation Details

The following accessibility props are used throughout the app:

```typescript
// Button example
<TouchableOpacity
  accessibilityRole="button"
  accessibilityLabel="Connect to VPN"
  accessibilityHint="Double tap to establish VPN connection"
  accessibilityState={{ disabled: isLoading }}
>

// Switch example
<Switch
  accessibilityLabel="Auto-connect toggle"
  accessibilityHint="When enabled, the app will connect automatically on launch"
  accessibilityState={{ checked: isEnabled }}
/>

// Grouped content example
<View
  accessible={true}
  accessibilityRole="summary"
  accessibilityLabel={`${title}: ${value}`}
>
  <Text importantForAccessibility="no">{title}</Text>
  <Text importantForAccessibility="no">{value}</Text>
</View>
```

### Known Accessibility Considerations

1. **Emoji Icons**: Tab bar uses emoji icons which are hidden from screen readers; proper labels are provided instead
2. **Pull-to-Refresh**: Custom accessibility labels describe the refresh action
3. **Dynamic Content**: Status updates may not be immediately announced; users should navigate to the status area to hear updates
4. **Error States**: Error messages use the `alert` role for immediate screen reader announcement

## Troubleshooting

### Cannot Connect to Client

1. Verify client is running and API is enabled
2. Check network connectivity (same network)
3. Ensure correct IP address and port
4. Check firewall settings on client machine

### App Crashes on Start

1. Clear app data and reinstall
2. Check for conflicting VPN apps
3. Update to latest version

### High Battery Usage

1. Increase refetch intervals in settings
2. Disable notifications if not needed
3. Disconnect when not in use

### Stats Not Updating

1. Check network connection
2. Verify client is running
3. Pull down to refresh manually
